<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    #chartdiv {
      width: 100%;
      height: 600px
    }
    </style>
    <!-- Resources -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
<body>
        <div id="chartdiv"></div>
</body>
<script>
    am5.ready(function() {
    
    // Create root element
    // https://www.amcharts.com/docs/v5/getting-started/#Root_element
    var root = am5.Root.new("chartdiv");
    
    // Set themes
    // https://www.amcharts.com/docs/v5/concepts/themes/
    root.setThemes([
      am5themes_Animated.new(root)
    ]);
    
    // Create the map chart
    // https://www.amcharts.com/docs/v5/charts/map-chart/
    var chart = root.container.children.push(
      am5map.MapChart.new(root, {
        panX: "rotateX",
        panY: "rotateY",
        projection: am5map.geoMercator()
      })
    );
    
    // Create series for background fill
    // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
    var backgroundSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {}));
    backgroundSeries.mapPolygons.template.setAll({
      fill: root.interfaceColors.get("alternativeBackground"),
      fillOpacity: 0,
      strokeOpacity: 0
    });
    // Add background polygo
    // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
    backgroundSeries.data.push({
      geometry: am5map.getGeoRectangle(90, 180, -90, -180)
    });
    
    // Create main polygon series for countries
    // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/
    var polygonSeries = chart.series.push(
      am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow
      })
    );
    
    polygonSeries.mapPolygons.template.setAll({
      fill: root.interfaceColors.get("alternativeBackground"),
      fillOpacity: 0.15,
      strokeWidth: 0.5,
      stroke: root.interfaceColors.get("background")
    });
    
    // Create polygon series for circles
    // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/
    var circleTemplate = am5.Template.new({
      tooltipText: "{name}: {value}"
    });

    
    
    var bubbleSeries = chart.series.push(
      am5map.MapPointSeries.new(root, {
        calculateAggregates: true,
        valueField: "value",
        polygonIdField: "id"
      })
    );
    
    bubbleSeries.bullets.push(function () {
      return am5.Bullet.new(root, {
        sprite: am5.Circle.new(root, {
          radius: 4,
          templateField: "circleTemplate"
        }, circleTemplate)
      });
    });
    
    bubbleSeries.set("heatRules", [{
      target: circleTemplate,
      min: 3,
      max: 30,
      key: "radius",
      dataField: "value"
    }]);

    var polygonSeries = chart.series.push(
  am5map.MapPolygonSeries.new(root, {
    geoJSON: am5geodata_worldLow,
    exclude: ["AQ"]
  })
);

polygonSeries.mapPolygons.template.setAll({
  tooltipText: "{name}",
  templateField: "polygonSettings"
});

polygonSeries.mapPolygons.template.states.create("hover", {
  fill: am5.color(0x677935)
});

polygonSeries.data.setAll([{
  id: "US",
  polygonSettings: {
    fill: am5.color(0xFF3C38)
  }
}, {
  id: "CA",
  polygonSettings: {
    fill: am5.color(0xFF3C38)
  }
},{
  id: "KE",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "UG",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "TZ",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "BI",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "ET",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "MG",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "GH",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "NG",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "BF",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "CM",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "CD",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "ZA",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "MW",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "ZM",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
},{
  id: "KE",
  polygonSettings: {
    fill: am5.color(0xFF8C42)
}
}

])

   


// var imageSeries = chart.series.push(
//   am5map.MapImageSeries.new(root, {
//     dataFields: {
//       id: "id",
//       latitude: "latitude",
//       longitude: "longitude"
//     }
//   })
// );

// var imageTemplate = imageSeries.mapImages.template;
// imageTemplate.propertyFields.href = "logo"; 


// imageTemplate.setAll({
//   nonScaling: true,
//   width: 30,
//   height: 30,
//   tooltipText: "{name}"
// });


// imageSeries.data.setAll([
//   {
//     id: "CA",
//     latitude: 56.1304,
//     longitude: 106.3468,
//     logo: "images/canada.png" 
//   },
 
// ]);




    
    var colors = am5.ColorSet.new(root, {});
    
    bubbleSeries.data.setAll([
      {
        id: "CA",
        name: "Canada",
        value: "Demo has a networking office in Toronto,Canada that allows us to get into formal partnerships with international and private research institutions giving an opportunity to expand our operations in Africa",
        circleTemplate: { fill: colors.getIndex(4) }
      },
      {
        id: "US",
        name: "United states",
        value: "Demo is registered in the USA as a 501(c)3 organization. This allows us to get into formal parterships with international and private research institutions giving an opportunity to expand our operations in Africa",
        circleTemplate: { fill: colors.getIndex(4) }
      },{
        id: "NG",
        name: "Nigeria",
        value: "Demo implements two projects in Nigeria: The africa biofortified sorgum (ABS) project and the croplife/africa harvest biotech outreach.",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "CD",
        name: "Democratic Republic of Congo",
        value: "Demo is registered in the DRC and, as part of it's strategic plan continues to explore opportunities for development intervention.",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "UG",
        name: "Uganda",
        value: "In uganda, Demo together with mennomite economic development associates (MEDA), Canada and context global development,USA are partnering in a key component for Rapid propagation innovation and distribution of seeds (RAPID)Project.",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "KE",
        name: "Kenya",
        value: "Soon after registration in the US as a 501(c)3 org, Demo was registered in Kenya Over the years, the org has implemented various projects, among them Tissue culture banana, which has reached over 67,000 households",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "TZ",
        name: "Tanzania",
        value: "In Tanzania. we have implemented the integrated farming sysytems for sustainable, livelihoolds in East Africa (INFAS)project with a focus on developing private-sector driven seed systems. ",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "BI",
        name: "Burundi",
        value: "Burundi is the third country where the INFAS project is implemented Like Tanzania, the project focus is developing private-sector driven seed system .",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "ZA",
        name: "South Africa",
        value: "Since the start in SA several projects have been implemented , the flag-ship being the Africa biofortified sorghum(ABS) project, which included the partnership of the ARC, the CSIR and university of pretoria.",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "ZM",
        name: "Zambia",
        value: "As part of its stategy, the Demo board of directors includes a zambian national. Demo has been invited by the ministry of agriculture to explore opportuniities related to increasing and improving banana marketing.",
        circleTemplate: { fill: colors.getIndex(2) }
      },{
        id: "MW",
        name: "Malawi",
        value: "The govt of Malawi, AGRA tasked Demo with carrying out a rapid needs assessment. This is focused on the BBTV impact on the banana industry and livelihoods of rural communities who depend on banana for food,income and nutritional secutity.",
        circleTemplate: { fill: colors.getIndex(2) }
      },
    ]);
    
    // Add globe/map switch
    var cont = chart.children.push(am5.Container.new(root, {
      layout: root.horizontalLayout,
      x: 20,
      y: 40
    }));
    
    cont.children.push(am5.Label.new(root, {
      centerY: am5.p50,
      text: "Map"
    }));
    
    var switchButton = cont.children.push(
      am5.Button.new(root, {
        themeTags: ["switch"],
        centerY: am5.p50,
        icon: am5.Circle.new(root, {
          themeTags: ["icon"]
        })
      })
    );
    
    switchButton.on("active", function () {
      if (!switchButton.get("active")) {
        chart.set("projection", am5map.geoMercator());
        backgroundSeries.mapPolygons.template.set("fillOpacity", 0);
      } else {
        chart.set("projection", am5map.geoOrthographic());
        backgroundSeries.mapPolygons.template.set("fillOpacity", 0.1);
      }
    });
    
    cont.children.push(
      am5.Label.new(root, {
        centerY: am5.p50,
        text: "Globe"
      })
    );
    
    // Make stuff animate on load
    chart.appear(1000, 100);
    
    }); // end am5.ready()
    </script>
</html>